(this["webpackJsonpshopify-frontend-challenge"]=this["webpackJsonpshopify-frontend-challenge"]||[]).push([[0],{24:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(18),s=n.n(i),a=(n(24),n(19)),o=n(3),j=n.n(o),u=n(4),d=n(5),l=n(9),b=n.n(l),h=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://www.omdbapi.com/",{params:{apikey:"fd36052a",s:t}});case 2:if(!(n=e.sent).data.Error){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data.Search);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://www.omdbapi.com/",{params:{apikey:"fd36052a",i:t}});case 2:if(!(n=e.sent).data.Error){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=(n(44),n(0)),m=function(){return Object(f.jsx)("div",{className:"Heading",children:Object(f.jsxs)("h1",{children:["The Shoppies - ",Object(f.jsx)("span",{children:"Nominate Your Favorite Films"})]})})},p=(n(46),function(e){var t=e.setSearchTerm;return Object(f.jsx)("div",{className:"SearchBar",children:Object(f.jsx)("input",{onChange:function(e){t(e.target.value.trim())},placeholder:"Search for movies"})})}),x=(n(47),function(e){var t=e.movie,n=e.handleClick,r=e.isNominated,i=Object(c.useState)(!1),s=Object(d.a)(i,2),a=s[0],o=s[1],l=Object(c.useState)(),b=Object(d.a)(l,2),h=b[0],m=b[1];Object(c.useEffect)((function(){a&&!h&&function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:n=e.sent,m(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t.imdbID)}));var p=function(){o(!a)};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Movie",children:[Object(f.jsx)("img",{src:t.Poster,alt:"Movie poster"}),Object(f.jsxs)("h4",{children:[t.Title," (",t.Year,")"]}),Object(f.jsxs)("div",{className:"Buttons",children:[a?Object(f.jsx)("i",{className:"fas fa-chevron-up",onClick:p}):Object(f.jsx)("i",{className:"fas fa-chevron-down",onClick:p}),Object(f.jsx)("button",{onClick:function(){n(t)},disabled:r(t),children:"Nominate"})]})]}),a&&h&&Object(f.jsxs)("div",{className:"Movie-Details",children:[Object(f.jsxs)("div",{className:"left",children:[Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Awards"})}),Object(f.jsx)("p",{children:h.Awards}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Box Office"})}),Object(f.jsx)("p",{children:h.BoxOffice}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Genre"})}),Object(f.jsx)("p",{children:h.Genre}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Metascore"})}),Object(f.jsx)("p",{children:h.Metascore})]}),Object(f.jsxs)("div",{className:"right",children:[Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Production"})}),Object(f.jsx)("p",{children:h.Production}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Rated"})}),Object(f.jsx)("p",{children:h.Rated}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Released"})}),Object(f.jsx)("p",{children:h.Released}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{children:"Runtime"})}),Object(f.jsx)("p",{children:h.Runtime})]})]})]})}),v=(n(48),function(e){var t=e.movies,n=e.nominations,c=e.searchTerm,r=e.Nominate,i=function(e){r(e)},s=function(e){return n.filter((function(t){return t.imdbID===e.imdbID})).length>0||n.length>=5};return Object(f.jsxs)("div",{className:"MoviesContainer",children:[c?Object(f.jsxs)("h4",{children:['Results for "',Object(f.jsx)("span",{children:c}),'"']}):Object(f.jsx)("h4",{children:"Results"}),t&&t.map((function(e,t){return Object(f.jsx)(x,{movie:e,handleClick:i,isNominated:s},e.imdbID)}))]})}),N=(n(49),n(50),function(){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"Banner",children:Object(f.jsx)("h2",{children:"You nominated 5 films for The Shoppies!"})})})}),w=(n(51),function(e){var t=e.movie,n=e.removeNomination;return Object(f.jsxs)("div",{className:"Nomination",children:[Object(f.jsx)("img",{src:t.Poster,alt:"Movie poster"}),Object(f.jsxs)("h3",{children:[t.Title," (",t.Year,")"]}),Object(f.jsx)("button",{onClick:function(){n(t)},children:"Remove"})]},t.imdbID)}),g=function(e){var t=e.nominations,n=e.removeNomination;return Object(f.jsxs)("div",{className:"NominationsContainer",children:[t.length>0?Object(f.jsxs)("h4",{children:["Nominations (",t.length,"/5):"]}):Object(f.jsx)("h4",{children:"Nominations"}),t.map((function(e,t){return Object(f.jsx)(w,{movie:e,removeNomination:n},e.imdbID)})),t.length>=5?Object(f.jsx)(N,{}):""]})};n(52);var S=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(d.a)(i,2),o=s[0],l=s[1],b=Object(c.useState)(JSON.parse(window.localStorage.getItem("nominations"))||[]),O=Object(d.a)(b,2),x=O[0],N=O[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],I=S[1];return Object(c.useEffect)((function(){n&&function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k&&clearTimeout(k),I(setTimeout(Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)}))),400));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(c.useEffect)((function(){window.localStorage.setItem("nominations",JSON.stringify(x))}),[x]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(m,{}),Object(f.jsx)(p,{setSearchTerm:r}),Object(f.jsx)(v,{movies:o,nominations:x,searchTerm:n,Nominate:function(e){N([].concat(Object(a.a)(x),[e]))}}),Object(f.jsx)(g,{nominations:x,removeNomination:function(e){var t=x.filter((function(t){return t.imdbID!==e.imdbID}));N(t)}})]})};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.edb29c16.chunk.js.map